 
<!--
Copyright (c) 2014 Dirk Grappendorf, www.grappendorf.net. All rights reserved.
This code may only be used under the MIT style license found in the file LICENSE.txt.

Element: grapp-breadcrumbs
Version: 0.0.1
Description: A web component for displaying breadcrumbs
-->


<link href="../polymer/polymer.html" rel="import">
<link href="../grapp-fa-icon/grapp-fa-icon.html" rel="import">


<polymer-element name="grapp-breadcrumb" attributes="href" noscript>

  <template>
    <span>
      <template if="{{href}}">
        <a href="{{href}}"><content></content></a>
      </template>
      <template if="{{! href}}">
        <content></content>
      </template>
    </span>
    <grapp-fa-icon icon="caret-right"></grapp-fa-icon>
  </template>

</polymer-element>


<polymer-element name="grapp-breadcrumbs" attributes="render">

  <template>

<style>grapp-breadcrumb /deep/ grapp-fa-icon {
  margin-left: 0.3em;
  margin-right: 0.3em;
}
grapp-breadcrumb:last-of-type /deep/ grapp-fa-icon {
  display: none;
}
</style>

    <template if="{{render}}">
      <div id="crumbs">
      </div>
    </template>

  </template>

<script type="text/javascript">(function() {
  var renderInstance;

  renderInstance = null;

  Polymer('grapp-breadcrumbs', {
    created: function() {
      return this.render = false;
    },
    ready: function() {
      if (this.render) {
        renderInstance = this;
      }
      if (!this.render) {
        return renderInstance.setCrumbs(this.querySelectorAll('grapp-breadcrumb'));
      }
    },
    setCrumbs: function(crumbs) {
      var crumb, _i, _len, _results;
      this.$.crumbs.innerHTML = '';
      _results = [];
      for (_i = 0, _len = crumbs.length; _i < _len; _i++) {
        crumb = crumbs[_i];
        _results.push(this.$.crumbs.appendChild(crumb));
      }
      return _results;
    }
  });

}).call(this);
</script>

</polymer-element>
